"use strict";(self["webpackChunkonline_conplier"]=self["webpackChunkonline_conplier"]||[]).push([[753],{8753:function(e,n,t){t.r(n),t.d(n,{default:function(){return y}});var o=t(311),r=t(2483),c=t(5941);const a=(0,o.defineComponent)({name:"page-render"});var s=Object.assign(a,{props:{views:{type:Array,default:()=>[]}},setup(e){const n=e;return(0,o.watchEffect)((()=>{c.log(n.vues)})),(n,t)=>{const r=(0,o.resolveComponent)("page-render");return(0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(e.views,(e=>((0,o.openBlock)(),(0,o.createBlock)((0,o.resolveDynamicComponent)(e.key),(0,o.mergeProps)({key:e.id},e.props),{default:(0,o.withCtx)((()=>[e.children&&e.children.length>0?((0,o.openBlock)(),(0,o.createBlock)(r,{key:0,views:e.children},null,8,["views"])):(0,o.createCommentVNode)("",!0)])),_:2},1040)))),128)}}});const l=s;var i=l,p=t(1435),u=t(5941);async function v(e){const n=await p.db.pages.get(+e);return u.log(n),n}var d=t(419);t(5941);async function f(e){const n=await p.db.settings.get({key:e});return n}var k=t(5941),w={__name:"index",setup(e){const n=(0,r.tv)(),t=(0,r.yj)(),c=(0,o.ref)({protocl:{views:[]}}),a=async()=>{try{const e=await f("index");e&&(n.replace({path:`/page/${e.value}`}),s(e.value))}catch(e){d.V.alert({title:"提示信息",message:"找不到对应的页面,请先去后台添加页面"}).then((()=>{}))}};async function s(e){if(e)try{const n=await v(e);n?c.value={...n,protocl:JSON.parse(n.protocl)}:a()}catch(n){k.log(n),a()}else a()}return(0,o.onMounted)((()=>{s(t.params.id)})),(e,n)=>((0,o.openBlock)(),(0,o.createBlock)((0,o.unref)(i),{views:c.value.protocl.views},null,8,["views"]))}};const g=w;var y=g}}]);