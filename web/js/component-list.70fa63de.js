(self["webpackChunkonline_conplier"]=self["webpackChunkonline_conplier"]||[]).push([[2779,6696],{53920:function(e,t,n){"use strict";n(27515)},6566:function(e,t,n){"use strict";n(27515),n(26),n(81830)},24348:function(e,t,n){"use strict";n(27515),n(24535)},1350:function(e,t,n){"use strict";n(27515)},14657:function(e,t,n){"use strict";n(27515),n(13680)},64339:function(e,t,n){"use strict";n(27515),n(24535)},13680:function(e,t,n){"use strict";n(27515),n(53920)},79313:function(e,t,n){"use strict";n(27515),n(24535),n(53920),n(8710),n(16938),n(79643),n(14657),n(81830),n(24348)},76696:function(e,t,n){"use strict";n.r(t),n.d(t,{createComponent:function(){return d},createFile:function(){return u},createOSSComponent:function(){return i},createOSSFileComponent:function(){return l},getOSSUrl:function(){return c},insertStyle:function(){return m},unregistComponet:function(){return s}});var a=n(95010);const r=new Map,o="_sfc_main";function u(e,t){return new Promise((n=>{const a=new Blob([`${e};window['${t}'] = ${o};`],{type:"text/javascript"}),r=URL.createObjectURL(a),u=document.createElement("script");u.type="module",u.src=r,u.onload=()=>{n(window[t])},u.error=()=>{n(null)},document.getElementsByTagName("head")[0].appendChild(u)}))}function c(e){const t=`${a.SJ}/test/components/${e}/${e}.js`;return t}async function i(e){return d(c(e),e)}async function l(e){const t=await(0,a.E)(`test/components/${e}/${e}.js`);return d(t,e)}async function d(e,t="test-component"){if(r.has(t))return r.get(t);if(/^[http|https]/.test(e)){const a=()=>n(8045)(e);return r.set(t,a),a}const a=await u(e,t);return"test-component"!==t&&r.set(t,a),a}function s(e){r.has(e)&&r.delete(e)}function m(e){let t=null;if(e){let t=document.createElement("style");t.innerText=e.replace(/\n/g,""),document.getElementsByTagName("head")[0].appendChild(t)}return t}},41052:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return _}});n(79313);var a=n(36306),r=(n(24348),n(68626)),o=(n(6566),n(43517)),u=(n(64339),n(48856)),c=(n(37173),n(86013)),i=(n(24535),n(74246)),l=(n(1350),n(10252)),d=n(10311),s=n(22483),m=n(28934),f=n(29583),p=n(55743),y=n.n(p),C=n(76696),x=n(15941);const N={class:"filter-wrap"},v=(0,d.createTextVNode)("搜索"),w=(0,d.createTextVNode)("重置"),h=(0,d.createTextVNode)("新增"),V={class:"table-wrap"};var k={__name:"index",setup(e){const t=(0,s.tv)(),n=(0,d.ref)([]),p=(0,d.ref)(n.value),k=()=>{p.value=n.value.filter((e=>e.name.indexOf(P.name)>-1&&e.type.indexOf(P.type)-1))},T=()=>{P.name="",P.type="",p.value=n.value},_=async()=>{const e=await(0,f.findComponents)();n.value=e.map((e=>({...e,createTime:y()(+e.createTime).format("YYYY-MM-DD HH:mm:ss"),updateTime:y()(+e.updateTime).format("YYYY-MM-DD HH:mm:ss")}))),k()},Z=()=>t.push({name:"editor"}),g=async(e,t)=>{await(0,f.deleteComponet)(e),_(),(0,C.unregistComponet)(t),l.ZP.success({content:"删除成功",duration:3})},P=(0,d.reactive)({name:"",type:""}),I=(0,d.ref)([{title:"名称",dataIndex:"name",key:"name"},{title:"英文名",dataIndex:"type",key:"type"},{title:"创建时间",dataIndex:"createTime",key:"createTime"},{title:"最后更新时间",dataIndex:"updateTime",key:"updateTime"},{title:"操作",dataIndex:"action",customRender:({record:e})=>(0,d.createVNode)(d.Fragment,null,[(0,d.createVNode)(i.Z,{size:"small",type:"link",onClick:()=>t.push({name:"editor",params:{id:e.id}})},{default:()=>[(0,d.createTextVNode)("编辑")]}),(0,d.createVNode)(c.Z,{type:"vertical"},null),(0,d.createVNode)(u.Z,{title:"确认删除此组件？",okText:"确认",cancelText:"取消",onConfirm:()=>g(e.id,e.type)},{default:()=>[(0,d.createVNode)(i.Z,{size:"small",type:"link",onClick:()=>x.log(e)},{default:()=>[(0,d.createTextVNode)("删除")]})]})])}]);return(0,d.onMounted)((()=>{_()})),(e,t)=>((0,d.openBlock)(),(0,d.createBlock)((0,d.unref)(m.PageContainer),null,{default:(0,d.withCtx)((()=>[(0,d.createElementVNode)("div",N,[(0,d.createVNode)((0,d.unref)(o.ZP),{layout:"inline",model:P},{default:(0,d.withCtx)((()=>[(0,d.createVNode)((0,d.unref)(o.ZP).Item,{label:"组件名称",name:"name"},{default:(0,d.withCtx)((()=>[(0,d.createVNode)((0,d.unref)(r.ZP),{value:P.name,"onUpdate:value":t[0]||(t[0]=e=>P.name=e)},null,8,["value"])])),_:1}),(0,d.createVNode)((0,d.unref)(o.ZP).Item,{label:"组件key",name:"type"},{default:(0,d.withCtx)((()=>[(0,d.createVNode)((0,d.unref)(r.ZP),{value:P.type,"onUpdate:value":t[1]||(t[1]=e=>P.type=e)},null,8,["value"])])),_:1}),(0,d.createVNode)((0,d.unref)(o.ZP).Item,null,{default:(0,d.withCtx)((()=>[(0,d.createVNode)((0,d.unref)(i.Z),{type:"primary",onClick:k},{default:(0,d.withCtx)((()=>[v])),_:1})])),_:1}),(0,d.createVNode)((0,d.unref)(o.ZP).Item,null,{default:(0,d.withCtx)((()=>[(0,d.createVNode)((0,d.unref)(i.Z),{onClick:T},{default:(0,d.withCtx)((()=>[w])),_:1})])),_:1}),(0,d.createVNode)((0,d.unref)(o.ZP).Item,null,{default:(0,d.withCtx)((()=>[(0,d.createVNode)((0,d.unref)(i.Z),{type:"primary",onClick:Z,ghost:""},{default:(0,d.withCtx)((()=>[h])),_:1})])),_:1})])),_:1},8,["model"])]),(0,d.createElementVNode)("div",V,[(0,d.createVNode)((0,d.unref)(a.ZP),{class:"table",dataSource:p.value,columns:I.value,size:"middle"},null,8,["dataSource","columns"])])])),_:1}))}};const T=k;var _=T},8045:function(e){function t(e){return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}))}t.keys=function(){return[]},t.resolve=t,t.id=8045,e.exports=t}}]);