{"version":3,"file":"js/583.b89d3b76.js","mappings":"oTAEOA,eAAeC,EAAcC,GAChC,MAAMC,QAAcC,EAAAA,GAAAA,WAAAA,MAAoB,OAAOC,iBAAiBH,EAAYI,KAAKH,QACjF,IAAKD,EAAYK,IAAMJ,EAAQ,EAC3B,KAAM,eAEV,MAAMK,EAAU,IACTN,EACHO,WAAYP,EAAYO,aAAc,IAAIC,MAAOC,UACjDC,YAAY,IAAIF,MAAOC,WAE3BE,EAAQC,IAAIZ,GACZ,MAAMK,QAAWH,EAAAA,GAAAA,WAAAA,IAAkBI,EAASA,EAAQD,IACpD,OAAOA,CACV,CAEMP,eAAee,IAClB,MAAMC,QAAaZ,EAAAA,GAAAA,WAAAA,UAAwBa,OAAO,cAClD,OAAOD,CACV,CACMhB,eAAekB,EAAaZ,GAC/B,MAAMa,QAAmBf,EAAAA,GAAAA,WAAAA,KAAmBE,GAE5C,OADAO,EAAQC,IAAIK,GACLA,CACV,CAEMnB,eAAeoB,EAAgBd,SAC5BF,EAAAA,GAAAA,WAAAA,UAAqBE,EAC9B,C","sources":["webpack://online-conplier/./src/service/compoment.js"],"sourcesContent":["import { db } from './db'\r\n\r\nexport async function saveComponent(componetObj) {\r\n    const count = await db.components.where('key').equalsIgnoreCase(componetObj.key).count()\r\n    if (!componetObj.id && count > 0) {\r\n        throw '组件key已存在，请修改'\r\n    }\r\n    const newData = { \r\n        ...componetObj,\r\n        createTime: componetObj.createTime || new Date().getTime(),\r\n        updateTime: new Date().getTime()\r\n    }\r\n    console.log(componetObj)\r\n    const id = await db.components.put(newData, newData.id)\r\n    return id\r\n}\r\n\r\nexport async function findComponents () {\r\n    const list = await db.components.reverse().sortBy('updateTime')\r\n    return list\r\n}\r\nexport async function getComponet (key) {\r\n    const component =  await db.components.get(+key)\r\n    console.log(component)\r\n    return component\r\n}\r\n\r\nexport async function deleteComponet (key) {\r\n    await db.components.delete(key)\r\n}"],"names":["async","saveComponent","componetObj","count","db","equalsIgnoreCase","key","id","newData","createTime","Date","getTime","updateTime","console","log","findComponents","list","sortBy","getComponet","component","deleteComponet"],"sourceRoot":""}